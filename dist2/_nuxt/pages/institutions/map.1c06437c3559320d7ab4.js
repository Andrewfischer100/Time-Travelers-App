webpackJsonp([1],{P6UB:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[n("v-card",{attrs:{"max-width":"1000px"}},[n("v-toolbar",{attrs:{dark:"",color:"black",card:"",dense:"",prominent:""}},[n("v-toolbar-title",[t._v("State selection")]),n("v-autocomplete",{staticClass:"mx-3",attrs:{loading:t.loading,items:t.states,"search-input":t.search,"cache-items":"","hide-no-data":"","hide-details":"",label:"Where are you traveling?","solo-inverted":"",autofocus:""},on:{"update:searchInput":function(e){t.search=e}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),t.select?n("v-btn",{attrs:{icon:""}},[n("v-icon",{on:{click:function(e){t.clearSearch()}}},[t._v("clear")])],1):t._e()],1),n("GmapMap",{staticClass:"pt-0",staticStyle:{height:"300px"},attrs:{center:t.center,zoom:t.zoom,"map-type-id":"terrain",options:t.mapStyle}},[n("gmap-info-window",{attrs:{options:t.infoOptions,position:t.infoWindowPos,opened:t.infoWinOpen},on:{closeclick:function(e){t.infoWinOpen=!1}}},[n("h4",[n("nuxt-link",{attrs:{to:"/institutions/"+t.infoContent.id}},[t._v(t._s(t.infoContent.Title))])],1),n("p",[t._v(t._s(t.infoContent.Address_Street))]),n("p",[t._v(t._s(t.infoContent.Benefits))]),n("p",[n("a",{attrs:{href:t.infoContent.URL}},[t._v(t._s(t.infoContent.URL))])])]),t._l(t.data,function(e,r){return n("GmapMarker",{key:r,attrs:{position:e.position,clickable:!0,draggable:!1,title:e.Title,icon:t.icon},on:{click:function(n){t.toggleInfoWindow(e,r)},"update:icon":function(e){t.icon=e}}})})],2),n("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"300px"},attrs:{id:"scroll-target"}},[n("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:t.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{height:"auto"},attrs:{column:""}},[n("v-list",{attrs:{"three-line":""}},[n("v-subheader",[t._v("\n                Participating Institutions: "+t._s(t.data.length||0)+" found.  "+t._s(t.select)+"\n              ")]),t._l(t.data,function(e,r){return[n("v-divider"),n("v-list-tile",{key:e.id,attrs:{to:"/institutions/"+e.id,wrap:""},on:{click:function(t){}}},[n("div",[e.Image_Thumb[0]?n("v-responsive",[n("img",{attrs:{src:e.Image_Thumb[0],"aspect-ratio":16/9,width:"90px"}})]):t._e()],1),n("v-list-tile-content",{staticClass:"pl-3"},[n("v-list-tile-title",{attrs:{to:"/institutions/"+e.id},domProps:{innerHTML:t._s(e.Title)}}),n("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.Address_Street)}}),n("a",{attrs:{href:e.URL}},[n("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.URL)}})],1)],1)],1)]})],2)],1)],1)],1)],1)],1)};r._withStripped=!0;var i={render:r,staticRenderFns:[]};e.a=i},TxBb:function(t,e,n){var r=n("ooL2");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("4ccfcdf9",r,!1,{sourceMap:!1})},j9g7:function(t,e,n){n("rplX"),t.exports=self.fetch.bind(self)},ooL2:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,".water{background-color:red}",""])},rplX:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=s(t),e=l(e);var n=this.map[t];this.map[t]=n?n+","+e:e},c.prototype.delete=function(t){delete this.map[s(t)]},c.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},c.prototype.set=function(t,e){this.map[s(t)]=l(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),u(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),u(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),u(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},y.call(g.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},b.error=function(){var t=new b(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];b.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new b(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=g,t.Response=b,t.fetch=function(t,n){return new Promise(function(r,i){var o=new g(t,n),a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:function(t){var e=new c;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;r(new b(e,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function d(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=f(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t,e){var n=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=function(t){var e=t.toUpperCase();return o.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function m(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function b(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},wFXq:function(t,e,n){"use strict";var r=n("j9g7");n.n(r);e.a={data:function(){return{offsetTop:0,data:{},fullData:{},zoom:4,icon:{url:"/location.png"},infoContent:{id:1354,Address_Street:"200 South Second Street Clarksville, TN 37040",Benefits:"placeholder",URL:"http://www.customshousemuseum.org",Title:"Customs House Museum & Cultural Center"},infoWindowPos:{lat:30,lng:-110},infoWinOpen:!1,infoOptions:{pixelOffset:{width:0,height:-35}},page:1,loading:!1,search:null,select:null,states:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Puerto Rico","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],center:{lat:38,lng:-100},stateCenters:{Alabama:{lat:32.806671,lng:-86.79113},Alaska:{lat:61.37071,lng:-152.404419},Arizona:{lat:33.72975,lng:-111.431221},Arkansas:{lat:34.9697,lng:-92.373123},California:{lat:36.1162,lng:-119.681564},Colorado:{lat:39.05981,lng:-105.311104},Connecticut:{lat:41.59778,lng:-72.755371},Delaware:{lat:39.31852,lng:-75.507141},"District of Columbia":{lat:38.89743,lng:-77.026817},Florida:{lat:27.76627,lng:-81.686783},Georgia:{lat:33.04061,lng:-83.643074},Hawaii:{lat:21.09431,lng:-157.498337},Idaho:{lat:44.24045,lng:-114.478828},Illinois:{lat:40.34945,lng:-88.986137},Indiana:{lat:39.84942,lng:-86.258278},Iowa:{lat:42.01153,lng:-93.210526},Kansas:{lat:38.5266,lng:-96.726486},Kentucky:{lat:37.66814,lng:-84.670067},Louisiana:{lat:31.16954,lng:-91.867805},Maine:{lat:44.69394,lng:-69.381927},Maryland:{lat:39.06394,lng:-76.802101},Massachusetts:{lat:42.23017,lng:-71.530106},Michigan:{lat:43.32661,lng:-84.536095},Minnesota:{lat:45.69445,lng:-93.900192},Mississippi:{lat:32.74164,lng:-89.678696},Missouri:{lat:38.45608,lng:-92.288368},Montana:{lat:46.92192,lng:-110.454353},Nebraska:{lat:41.12537,lng:-98.268082},Nevada:{lat:38.31351,lng:-117.055374},"New Hampshire":{lat:43.45249,lng:-71.563896},"New Jersey":{lat:40.2989,lng:-74.521011},"New Mexico":{lat:34.84051,lng:-106.248482},"New York":{lat:42.16572,lng:-74.948051},"North Carolina":{lat:35.63006,lng:-79.806419},"North Dakota":{lat:47.52891,lng:-99.784012},Ohio:{lat:40.38878,lng:-82.764915},Oklahoma:{lat:35.56534,lng:-96.928917},Oregon:{lat:44.57202,lng:-122.070938},Pennsylvania:{lat:40.59075,lng:-77.209755},"Rhode Island":{lat:41.68089,lng:-71.51178},"South Carolina":{lat:33.85689,lng:-80.945007},"South Dakota":{lat:44.29978,lng:-99.438828},Tennessee:{lat:35.74784,lng:-86.692345},Texas:{lat:31.05448,lng:-97.563461},Utah:{lat:40.15003,lng:-111.862434},Vermont:{lat:44.04587,lng:-72.710686},Virginia:{lat:37.76933,lng:-78.169968},Washington:{lat:47.4009,lng:-121.490494},"West Virginia":{lat:38.49122,lng:-80.954453},Wisconsin:{lat:44.26854,lng:-89.616508},Wyoming:{lat:42.75596,lng:-107.30249}},mapStyle:{styles:[{featureType:"administrative",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"on"},{saturation:100}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:-100},{lightness:"50"},{visibility:"simplified"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"all",stylers:[{lightness:"30"}]},{featureType:"road.local",elementType:"all",stylers:[{lightness:"40"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]},{featureType:"water",elementType:"labels",stylers:[{lightness:-25},{saturation:-100}]}]}}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},select:function(t){this.states.includes(t)&&this.filterData()}},created:function(){this.getPoints()},methods:{onScroll:function(t){this.offsetTop=t.target.scrollTop},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},toggleInfoWindow:function(t,e){this.infoWindowPos=t.position,this.infoContent=t,this.currentMidx===e?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=e)},filterData:function(){console.log(this.select),this.data=[];for(var t=0;t<this.fullData.length;t++)this.fullData[t].Address_State===this.select&&this.data.push(this.fullData[t]);this.center=this.stateCenters[this.select],this.zoom=5},getPoints:function(){var t=this;fetch("https://csv.mohistory.org/json/institutions").then(function(t){return t.json()}).then(function(e){t.data=e.data,t.fullData=e.data,console.log(t.data)}).catch(function(t){console.log(t)})},clearSearch:function(){this.select=null,this.center={lat:38,lng:-100},this.zoom=4,this.data=this.fullData}}}},wUg3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("wFXq"),i=n("P6UB"),o=!1;var a=function(t){o||n("TxBb")},s=n("VU/8")(r.a,i.a,!1,a,null,null);s.options.__file="pages/institutions/map.vue",e.default=s.exports}});